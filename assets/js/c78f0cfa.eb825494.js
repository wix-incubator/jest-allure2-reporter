"use strict";(self.webpackChunk_wix_website_jest_allure2_reporter=self.webpackChunk_wix_website_jest_allure2_reporter||[]).push([[7363],{7726:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"api/config/presets","title":"Presets","description":"Overview","source":"@site/../docs/api/config/01-presets.mdx","sourceDirName":"api/config","slug":"/api/config/presets","permalink":"/jest-allure2-reporter/api/config/presets","draft":false,"unlisted":false,"editUrl":"https://github.com/wix-incubator/jest-allure2-reporter/tree/master/docs/../docs/api/config/01-presets.mdx","tags":[],"version":"current","lastUpdatedBy":"Yaroslav Serhieiev","lastUpdatedAt":1730882347000,"sidebarPosition":1,"frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"Configuration","permalink":"/jest-allure2-reporter/api/config/"},"next":{"title":"Customizers","permalink":"/jest-allure2-reporter/api/config/customizers"}}');var t=s(4848),i=s(8453);const o={},a="Presets",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Extends",id:"extends",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Multiple Presets",id:"multiple-presets",level:3},{value:"Inline Presets",id:"inline-presets",level:3},{value:"Preset Structure",id:"preset-structure",level:2},{value:"Example",id:"example",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components},{ArticleHeader:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ArticleHeader",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"presets",children:"Presets"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(s,{}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"jest-allure2-reporter"})," offers a powerful configuration system that allows you to customize various aspects of your Allure reports. One of the key features of this system is the ability to use presets and extend configurations, which promotes reusability and helps maintain a clean, organized configuration across different projects or test suites."]}),"\n",(0,t.jsx)(n.h2,{id:"extends",children:"Extends"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"extends"})," option in ",(0,t.jsx)(n.code,{children:"jest-allure2-reporter"})," configuration allows you to inherit and merge configurations from other preset files or objects. This feature is particularly useful for:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Sharing common configurations across multiple projects"}),"\n",(0,t.jsx)(n.li,{children:"Creating base configurations that can be extended and customized for specific use cases"}),"\n",(0,t.jsx)(n.li,{children:"Organizing complex configurations into smaller, more manageable pieces"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"extends"})," option can accept a string (path to a preset file), an object (inline preset), or an array of strings and objects."]}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsxs)(n.p,{children:["To use the ",(0,t.jsx)(n.code,{children:"extends"})," feature, add it to your ",(0,t.jsx)(n.code,{children:"jest-allure2-reporter"})," configuration:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  // ... other Jest config\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', {\n      extends: './my-preset.js',\n      // Additional configurations...\n    }]\n  ]\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Accordingly, in ",(0,t.jsx)(n.code,{children:"my-preset.js"}),", you can define your configurations:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  testCase: {\n    labels: {\n      owner: 'Team A',\n    },\n  },\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"multiple-presets",children:"Multiple Presets"}),"\n",(0,t.jsx)(n.p,{children:"You can extend multiple presets by using an array:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  // ... other Jest config\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', {\n      extends: [\n        './base-preset.js',\n        './custom-labels-preset.js',\n        './attachment-handling-preset.js'\n      ],\n      // Additional configurations...\n    }]\n  ]\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["When using ",(0,t.jsx)(n.code,{children:"extends"})," multiple times, or when using ",(0,t.jsx)(n.code,{children:"extends"})," array,\nconfigurations are merged recursively."]}),"\n",(0,t.jsxs)(n.p,{children:["In case of conflicts, later presets in the array override earlier ones.\nThe ",(0,t.jsx)(n.a,{href:"/jest-allure2-reporter/api/config/customizers",children:"customizer functions"}),", however, may use ",(0,t.jsx)(n.code,{children:"({ value })"})," from the context to access the computed value from the previous preset."]}),"\n",(0,t.jsx)(n.h3,{id:"inline-presets",children:"Inline Presets"}),"\n",(0,t.jsx)(n.p,{children:"You can also use inline objects as presets:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  // ... other Jest config\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', {\n      extends: [\n        {\n          testCase: {\n            labels: {\n              severity: 'high',\n            },\n          },\n        }\n      ],\n      // Additional configurations...\n    }]\n  ]\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"preset-structure",children:"Preset Structure"}),"\n",(0,t.jsxs)(n.p,{children:["A preset is typically a JavaScript file that exports ",(0,t.jsx)(n.code,{children:"jest-allure2-reporter"})," options."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="my-preset.js"',children:"module.exports = {\n  testCase: {\n    links: {\n      issue: 'https://jira.example.com/browse/{{name}}',\n      tms: 'https://tms.example.com/case/{{name}}'\n    },\n  },\n  // Other configuration options...\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"Here's an example of a comprehensive setup using presets:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="node_modules/@my-org/my-project-allure-preset/index.js"',children:"module.exports = {\n  testCase: {\n    labels: {\n      owner: 'John Doe',\n    },\n    links: {\n      issue: 'https://github.com/my-org/my-project/issues/{{name}}',\n    },\n  },\n};\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="jest.config.js"',children:"const some_other_preset = require('./some-other-preset');\n\nmodule.exports = {\n  // ... other Jest config\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', {\n      extends: [\n        '@my-org/my-project-allure-preset',\n        some_other_preset,\n      ],\n    }]\n  ]\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"In this setup, the final configuration will merge the base preset and an inline preset, allowing for a clean and organized configuration."}),"\n",(0,t.jsxs)(n.p,{children:["By effectively using the ",(0,t.jsx)(n.code,{children:"extends"})," feature and presets, you can create a scalable and organized configuration system for ",(0,t.jsx)(n.code,{children:"jest-allure2-reporter"}),", making it easier to manage reporting settings across different projects or test suites."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);