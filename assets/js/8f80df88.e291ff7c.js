"use strict";(self.webpackChunk_wix_website_jest_allure2_reporter=self.webpackChunk_wix_website_jest_allure2_reporter||[]).push([[2467],{1270:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/config-01-grouping-01-c6e789ac2f662eb8f79a40aad724d0ba.jpg"},3409:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/config-01-grouping-02-1d1e77ad4e503dc5818ea5febe0ca301.jpg"},3460:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/config-01-grouping-03-1d1e77ad4e503dc5818ea5febe0ca301.jpg"},5292:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"docs/config/grouping/by-suite","title":"By Suite","description":"The most common way to group test results.","source":"@site/../docs/docs/config/01-grouping/01-by-suite.mdx","sourceDirName":"docs/config/01-grouping","slug":"/docs/config/grouping/by-suite","permalink":"/jest-allure2-reporter/docs/config/grouping/by-suite","draft":false,"unlisted":false,"editUrl":"https://github.com/wix-incubator/jest-allure2-reporter/tree/master/docs/../docs/docs/config/01-grouping/01-by-suite.mdx","tags":[],"version":"current","lastUpdatedBy":"Yaroslav Serhieiev","lastUpdatedAt":1730882347000,"sidebarPosition":1,"frontMatter":{"description":"The most common way to group test results."},"sidebar":"docsSidebar","previous":{"title":"Grouping","permalink":"/jest-allure2-reporter/docs/config/grouping/"},"next":{"title":"By Story","permalink":"/jest-allure2-reporter/docs/config/grouping/by-story"}}');var s=n(4848),o=n(8453),i=n(9489),l=n(7227);const a={description:"The most common way to group test results."},d="By Suite",c={},u=[{value:"Default preset",id:"default-preset",level:2},{value:"File-oriented example",id:"file-oriented-example",level:2},{value:"Test-oriented example",id:"test-oriented-example",level:2}];function h(e){const t={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components},{ArticleHeader:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ArticleHeader",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"by-suite",children:"By Suite"})}),"\n",(0,s.jsx)(t.p,{children:"This is perhaps the most common way to group test results, and it makes the most sense for projects using Jest."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Grouping by suite",src:n(1270).A+"",width:"2048",height:"1200"})}),"\n",(0,s.jsxs)(t.p,{children:["The suite hierarchy consists of up to four levels: ",(0,s.jsx)(t.strong,{children:"parent suite"}),", ",(0,s.jsx)(t.strong,{children:"suite"}),", ",(0,s.jsx)(t.strong,{children:"sub-suite"})," and ",(0,s.jsx)(t.strong,{children:"test case"}),"."]}),"\n",(0,s.jsx)(t.admonition,{title:"Glossary",type:"info",children:(0,s.jsxs)("dl",{children:[(0,s.jsx)("dt",{children:(0,s.jsx)("strong",{children:"Parent Suite"})}),(0,s.jsxs)("dd",{children:["The highest level of the hierarchy used to group test results by package (e.g., ",(0,s.jsx)("code",{children:"client"}),", ",(0,s.jsx)("code",{children:"server"}),"), test directory (e.g., ",(0,s.jsx)("code",{children:"e2e"}),", ",(0,s.jsx)("code",{children:"unit"}),", ",(0,s.jsx)("code",{children:"integration"}),"), or any other relevant criteria. ",(0,s.jsx)("em",{children:"It is not configured by default"}),", but you can easily add it to your reports."]}),(0,s.jsx)("dt",{children:(0,s.jsx)("strong",{children:"Suite"})}),(0,s.jsxs)("dd",{children:["Serves as the primary grouping level, typically based on test file paths. However, you can choose alternative criteria such as feature or component directories (",(0,s.jsx)("code",{children:"LoginScreen"}),", ",(0,s.jsx)("code",{children:"ProfileScreen"}),", ",(0,s.jsx)("code",{children:"core"}),", ",(0,s.jsx)("code",{children:"utils"}),"), or top-level describe block names, if preferred."]}),(0,s.jsx)("dt",{children:(0,s.jsx)("strong",{children:"Subsuite"})}),(0,s.jsx)("dd",{children:"Helpful when dealing with a large number of test cases within a single suite. By default, test cases are grouped per top-level describe block. However, if there are numerous nested describe blocks (or, vice versa \u2014 lots of files and directories), you can look for alternative configurations."}),(0,s.jsx)("dt",{children:(0,s.jsx)("strong",{children:"Test Case"})}),(0,s.jsx)("dd",{children:"Represents the actual test. By default, it displays the test name, including the inner describe block names. You have the flexibility to choose a test name format that best suits your needs \u2013 see a few examples below in this article."})]})}),"\n",(0,s.jsx)(t.p,{children:"Below we'll explore a few examples of how to configure the grouping by suite."}),"\n",(0,s.jsx)(t.h2,{id:"default-preset",children:"Default preset"}),"\n",(0,s.jsx)(r,{}),"\n",(0,s.jsxs)(t.p,{children:["By default, ",(0,s.jsx)(t.code,{children:"jest-allure2-reporter"})," provides 3 levels of grouping: ",(0,s.jsx)(t.strong,{children:"suite"}),", ",(0,s.jsx)(t.strong,{children:"sub-suite"}),", and ",(0,s.jsx)(t.strong,{children:"test case"}),":"]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.strong,{children:"suite"})," level is based on the ",(0,s.jsx)(t.em,{children:"test file path"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.strong,{children:"sub-suite"})," level is based on the ",(0,s.jsx)(t.em,{children:"top-level describe block"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.strong,{children:"test case"})," level is based on the ",(0,s.jsx)(t.em,{children:"test name"})," (including the inner describe block names)."]}),"\n"]}),"\n",(0,s.jsxs)(i.A,{groupId:"configTab",children:[(0,s.jsx)(l.A,{value:"demo",label:"Preview",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Default grouping",src:n(3409).A+"",width:"2048",height:"1200"})})}),(0,s.jsx)(l.A,{value:"structure",label:"Structure",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-plain",children:"\u251c\u2500 client/auth/LoginScreen.test.js\n\u2502  \u2514\u2500 Login screen\n\u2502     \u251c\u2500 when loaded should display login form\n\u2502     \u2514\u2500 when loaded and typed should validate e-mail\n\u2502     \u2514\u2500 when loaded and typed should validate password\n\u251c\u2500 client/auth/ForgotPasswordScreen.test.js\n\u2502  \u2514\u2500 Forgot password screen\n\u2502     \u251c\u2500 when loaded should display forgot password form\n\u2502     \u2514\u2500 when loaded and typed should validate e-mail\n\u251c\u2500 server/controllers/login.test.js\n|  \u2514\u2500 Login controller\n|     \u251c\u2500 should return 401 if user is not found\n|     \u2514\u2500 should return 401 if password is incorrect\n\u2514\u2500 server/controllers/forgotPassword.test.js\n   \u2514\u2500 Forgot password controller\n      \u251c\u2500 should return 401 if user is not found\n      \u2514\u2500 should return 401 if password is incorrect\n"})})}),(0,s.jsx)(l.A,{value:"config",label:"Config",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="jest.config.js"',children:"/** @type {import('@jest/types').Config.InitialOptions} */\nmodule.exports = {\n  testEnvironment: 'jest-allure2-reporter/environment-node',\n  reporters: [\n    'default',\n    'jest-allure2-reporter',\n    // You don't need to configure anything special\n    // to get this structure.\n  ],\n};\n"})})})]}),"\n",(0,s.jsx)(t.h2,{id:"file-oriented-example",children:"File-oriented example"}),"\n",(0,s.jsx)(t.p,{children:"This example might be useful for projects with many test files and relatively few test cases per file."}),"\n",(0,s.jsxs)(i.A,{groupId:"configTab",children:[(0,s.jsx)(l.A,{value:"demo",label:"Preview",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"File-oriented grouping",src:n(3460).A+"",width:"2048",height:"1200"})})}),(0,s.jsx)(l.A,{value:"structure",label:"Structure",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-plain",children:"\u251c\u2500 client\n\u2502  \u2514\u2500 auth\n\u2502     \u251c\u2500 LoginScreen.test.js\n\u2502     \u2502  \u251c\u2500 Login screen when loaded should display login form\n\u2502     \u2502  \u251c\u2500 Login screen when loaded and typed should validate e-mail\n\u2502     \u2502  \u2514\u2500 Login screen when loaded and typed should validate password\n\u2502     \u2514\u2500 ForgotPasswordScreen.test.js\n\u2502        \u251c\u2500 Forgot password screen when loaded should display forgot password form\n\u2502        \u2514\u2500 Forgot password screen when loaded and typed should validate e-mail\n\u2514\u2500 server\n   \u2514\u2500 controllers\n      \u251c\u2500 login.test.js\n      \u2502  \u251c\u2500 Login controller should return 401 if user is not found\n      \u2502  \u2514\u2500 Login controller should return 401 if password is incorrect\n      \u2514\u2500 ForgotPasswordScreen.test.js\n         \u251c\u2500 Forgot password controller should return 401 if user is not found\n         \u2514\u2500 Forgot password controller should return 401 if password is incorrect\n"})})}),(0,s.jsx)(l.A,{value:"config",label:"Config",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="jest.config.js"',children:"/** @type {import('@jest/types').Config.InitialOptions} */\nmodule.exports = {\n  testEnvironment: 'jest-allure2-reporter/environment-node',\n  reporters: [\n    'default',\n    ['jest-allure2-reporter',\n      /** @type {import('jest-allure2-reporter').ReporterOptions}*/\n      {\n        testCase: {\n          name: ({ testCase }) => [\n            ...testCase.ancestorTitles,\n            testCase.title\n          ].join(' \xbb '),\n          labels: {\n            parentSuite: ({ filePath }) => filePath[0],\n            suite: ({ filePath }) => filePath[1],\n            subSuite: ({ filePath }) => filePath.slice(2).join('/'),\n          },\n        },\n      },\n    ],\n  ],\n};\n"})})})]}),"\n",(0,s.jsx)(t.h2,{id:"test-oriented-example",children:"Test-oriented example"}),"\n",(0,s.jsx)(t.p,{children:"This example should fit projects with a smaller number of test files and numerous test cases per file."}),"\n",(0,s.jsxs)(i.A,{groupId:"configTab",children:[(0,s.jsx)(l.A,{value:"demo",label:"Preview",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Test-oriented grouping",src:n(6191).A+"",width:"2048",height:"1200"})})}),(0,s.jsx)(l.A,{value:"structure",label:"Structure",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-plain",children:"\u251c\u2500 client/auth/LoginScreen.test.js\n\u2502  \u251c\u2500 Login screen\n\u2502  \u2502  \u251c\u2500 when loaded\n\u2502  \u2502  \u2502  \u2514\u2500 should display login form\n\u2502  \u2502  \u2514\u2500 when loaded and typed\n\u2502  \u2502     \u251c\u2500 should validate e-mail\n\u2502  \u2502     \u2514\u2500 should validate password\n\u2502  \u2514\u2500 Forgot password screen\n\u2502     \u251c\u2500 when loaded\n\u2502     \u2502  \u2514\u2500 should display forgot password form\n\u2502     \u2514\u2500 when loaded and typed\n\u2502        \u2514\u2500 should validate e-mail\n\u2514\u2500 server/controllers/login.test.js\n   \u251c\u2500 Login controller\n   \u2502  \u251c\u2500 should return 401 if user is not found\n   \u2502  \u2514\u2500 should return 401 if password is incorrect\n   \u2514\u2500 Forgot password controller\n      \u251c\u2500 should return 401 if user is not found\n      \u2514\u2500 should return 401 if password is incorrect\n"})})}),(0,s.jsx)(l.A,{value:"config",label:"Config",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="jest.config.js"',children:"/** @type {import('@jest/types').Config.InitialOptions} */\nmodule.exports = {\n  testEnvironment: 'jest-allure2-reporter/environment-node',\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', /** @type {import('jest-allure2-reporter').ReporterOptions}*/ {\n      labels: {\n        parentSuite: ({ filePath }) => filePath.join('/'),\n        suite: ({ testCase }) => testCase.ancestorTitles[0],\n        subSuite: ({ testCase }) => testCase.ancestorTitles.slice(1).join(' ') || undefined,\n        test: ({ testCase }) => testCase.title,\n      },\n    }],\n  ],\n};\n"})})})]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},6191:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/config-01-grouping-04-1d1e77ad4e503dc5818ea5febe0ca301.jpg"},7227:(e,t,n)=>{n.d(t,{A:()=>i});n(6540);var r=n(4164);const s={tabItem:"tabItem_Ymn6"};var o=n(4848);function i({children:e,hidden:t,className:n}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,n),hidden:t,children:e})}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var r=n(6540);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}},9489:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(6540),s=n(4164),o=n(4245),i=n(6347),l=n(6494),a=n(2814),d=n(5167),c=n(9900);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return u(e).map((({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r})))}(n);return function(e){const t=(0,d.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p({value:e,tabValues:t}){return t.some((t=>t.value===e))}function g({queryString:e=!1,groupId:t}){const n=(0,i.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,a.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,o=h(e),[i,a]=(0,r.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:o}))),[d,u]=g({queryString:n,groupId:s}),[f,m]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,c.Dv)(t);return[n,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:s}),j=(()=>{const e=d??f;return p({value:e,tabValues:o})?e:null})();(0,l.A)((()=>{j&&a(j)}),[j]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),m(e)}),[u,m,o]),tabValues:o}}var m=n(1062);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=n(4848);function b({className:e,block:t,selectedValue:n,selectValue:r,tabValues:i}){const l=[],{blockElementScrollPositionUntilNextRender:a}=(0,o.a_)(),d=e=>{const t=e.currentTarget,s=l.indexOf(t),o=i[s].value;o!==n&&(a(t),r(o))},c=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:i.map((({value:e,label:t,attributes:r})=>(0,x.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:c,onClick:d,...r,className:(0,s.A)("tabs__item",j.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e)))})}function v({lazy:e,children:t,selectedValue:n}){const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=o.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function y(e){const t=f(e);return(0,x.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,x.jsx)(b,{...t,...e}),(0,x.jsx)(v,{...t,...e})]})}function w(e){const t=(0,m.A)();return(0,x.jsx)(y,{...e,children:u(e.children)},String(t))}}}]);