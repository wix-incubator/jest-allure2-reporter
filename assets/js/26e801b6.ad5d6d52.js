"use strict";(self.webpackChunk_wix_website_jest_allure2_reporter=self.webpackChunk_wix_website_jest_allure2_reporter||[]).push([[3265],{2445:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"docs/customization/approaches","title":"Approaches","description":"jest-allure2-reporter offers several approaches to customize your test reports. Each method has its own advantages and limitations, allowing you to choose the one that best fits your specific needs. Here are the main customization approaches:","source":"@site/../docs/docs/customization/01-approaches.mdx","sourceDirName":"docs/customization","slug":"/docs/customization/approaches","permalink":"/jest-allure2-reporter/docs/customization/approaches","draft":false,"unlisted":false,"editUrl":"https://github.com/wix-incubator/jest-allure2-reporter/tree/master/docs/../docs/docs/customization/01-approaches.mdx","tags":[],"version":"current","lastUpdatedBy":"Yaroslav Serhieiev","lastUpdatedAt":1730882347000,"sidebarPosition":1,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Customization","permalink":"/jest-allure2-reporter/docs/customization/"}}');var i=n(4848),s=n(8453);const a={},r="Approaches",l={},c=[{value:"Docblock Annotations",id:"docblock-annotations",level:2},{value:"DSL Annotations",id:"dsl-annotations",level:2},{value:"Runtime API",id:"runtime-api",level:2},{value:"Reporter Config",id:"reporter-config",level:2},{value:"Choosing the Right Approach",id:"choosing-the-right-approach",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{ArticleHeader:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ArticleHeader",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"approaches",children:"Approaches"})}),"\n",(0,i.jsx)(t.p,{children:"jest-allure2-reporter offers several approaches to customize your test reports. Each method has its own advantages and limitations, allowing you to choose the one that best fits your specific needs. Here are the main customization approaches:"}),"\n",(0,i.jsx)(t.h2,{id:"docblock-annotations",children:"Docblock Annotations"}),"\n",(0,i.jsx)(n,{}),"\n",(0,i.jsx)(t.p,{children:"Docblock annotations provide a declarative way to add metadata to your tests directly in the source code.\nThis approach is:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"\u2728 Agnostic way to add simple metadata"}),"\n",(0,i.jsx)(t.li,{children:"\u2705 Familiar syntax for developers accustomed to JSDoc"}),"\n",(0,i.jsx)(t.li,{children:"\u2705 Doesn't require importing additional modules"}),"\n",(0,i.jsx)(t.li,{children:"\u2757 Only works at the top file level and individual test level"}),"\n",(0,i.jsx)(t.li,{children:"\u2757 Cannot be applied to test suites or hooks"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"/**\n * @description Tests the login functionality\n * @severity critical\n * @owner John Doe\n */\ntest('User can log in with valid credentials', () => {\n  // Test code here\n});\n"})}),"\n",(0,i.jsx)(t.h2,{id:"dsl-annotations",children:"DSL Annotations"}),"\n",(0,i.jsx)(t.p,{children:"DSL (Domain-Specific Language) annotations provide a specialized syntax for adding metadata that's more concise than the runtime API.\nThis approach is:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"\u2728 A middle ground between a declarative and a programmatic approach"}),"\n",(0,i.jsx)(t.li,{children:"\u2728 Targets the definition level, not the execution (runtime)"}),"\n",(0,i.jsx)(t.li,{children:"\u2705 Works on almost every block: suites, hooks and tests themselves"}),"\n",(0,i.jsx)(t.li,{children:"\u2705 Allows for some programmatic flexibility"}),"\n",(0,i.jsxs)(t.li,{children:["\u2757 Couples your tests to ",(0,i.jsx)(t.code,{children:"jest-allure2-reporter"}),"'s API"]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"import { $Description, $Severity, $Owner } from 'jest-allure2-reporter/api';\n\n$Description('Login functionality test suite')\ndescribe('Login Tests', () => {\n  $Owner('John Doe')\n  $Severity('critical')\n  test('User can log in with valid credentials', () => {\n    // Test code here\n  });\n\n  $Description('Setup test database')\n  beforeAll(() => {\n    // Setup code here\n  });\n});\n"})}),"\n",(0,i.jsx)(t.h2,{id:"runtime-api",children:"Runtime API"}),"\n",(0,i.jsx)(t.p,{children:"The Runtime API allows you to add metadata and customize reports programmatically within your test code.\nThis approach is:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"\u2728 Purely programmatic, targeted at runtime"}),"\n",(0,i.jsx)(t.li,{children:"\u2705 Can be used at any point during runtime: file evaluation, suite definition, hook execution, or test execution"}),"\n",(0,i.jsx)(t.li,{children:"\u2705 Highly flexible and dynamic"}),"\n",(0,i.jsxs)(t.li,{children:["\u2757 Couples your tests to ",(0,i.jsx)(t.code,{children:"jest-allure2-reporter"}),"'s API"]}),"\n",(0,i.jsx)(t.li,{children:"\u2757 Doesn't work with skipped tests"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"import { allure } from 'jest-allure2-reporter/api';\n\ntest('User can log in with valid credentials', () => {\n  allure.description('Tests the login functionality');\n  allure.severity('critical');\n  allure.owner('John Doe');\n\n  // Test code here\n});\n"})}),"\n",(0,i.jsx)(t.h2,{id:"reporter-config",children:"Reporter Config"}),"\n",(0,i.jsx)(t.p,{children:"Declarative configuration allows you to set up global customizations and defaults in your Jest configuration file."}),"\n",(0,i.jsxs)(t.p,{children:["Example (in ",(0,i.jsx)(t.code,{children:"jest.config.js"}),"):"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"module.exports = {\n  // ... other Jest config options\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', {\n      testCase: {\n        labels: {\n          owner: ({ value }) => value ?? 'Team QA',\n          severity: 'critical',\n        },\n      },\n    }],\n  ],\n};\n"})}),"\n",(0,i.jsx)(t.p,{children:"\u2728 Centralized configuration for the entire project\n\u2705 Allows setting default (fallback) behaviors and metadata\n\u2705 Can be shared as a preset or plugin\n\u2757 Less precise than other methods; applies broadly rather than to specific tests\n\u2757 Can override more specific customizations if not carefully managed"}),"\n",(0,i.jsx)(t.h2,{id:"choosing-the-right-approach",children:"Choosing the Right Approach"}),"\n",(0,i.jsx)(t.p,{children:"The best approach (or combination of approaches) depends on your specific needs:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Use ",(0,i.jsx)(t.strong,{children:"docblock annotations"})," for simple, static metadata at the file or individual test level."]}),"\n",(0,i.jsxs)(t.li,{children:["Use ",(0,i.jsx)(t.strong,{children:"DSL annotations"})," when you need to add metadata to sub-suites or hooks, or to individual tests (when your is not static)."]}),"\n",(0,i.jsxs)(t.li,{children:["Use the ",(0,i.jsx)(t.strong,{children:"runtime API"})," when you need to add dynamic metadata based on test execution or when you need fine-grained control at any point during the test lifecycle."]}),"\n",(0,i.jsxs)(t.li,{children:["Use ",(0,i.jsx)(t.strong,{children:"declarative configuration"})," for project-wide defaults and behaviors, or for massive changes that apply to all or most tests."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"You can combine these approaches as needed. For example, you might use declarative configuration for project-wide defaults, docblock annotations for static file-level metadata, DSL annotations for suite and hook metadata, and the runtime API for dynamic metadata that depends on test execution."}),"\n",(0,i.jsx)(t.p,{children:"Remember that the config-based approach is a powerful tool that can override other customizations. While this can be useful for implementing broad changes, it should be used judiciously to avoid unintended consequences."}),"\n",(0,i.jsx)(t.p,{children:"By understanding the strengths and limitations of each approach, you can create detailed, informative Allure reports that provide valuable insights into your test suite's performance and results."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var o=n(6540);const i={},s=o.createContext(i);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);