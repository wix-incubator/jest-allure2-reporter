"use strict";(self.webpackChunk_wix_website_jest_allure2_reporter=self.webpackChunk_wix_website_jest_allure2_reporter||[]).push([[920],{3516:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>g,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var n=r(2322),s=r(5392),a=r(2605),o=r(3142);const l={description:"Developer-oriented way to group test results."},i="By Package",c={unversionedId:"docs/config/grouping/by-package",id:"docs/config/grouping/by-package",title:"By Package",description:"Developer-oriented way to group test results.",source:"@site/../../docs/docs/config/01-grouping/03-by-package.mdx",sourceDirName:"docs/config/01-grouping",slug:"/docs/config/grouping/by-package",permalink:"/jest-allure2-reporter/docs/config/grouping/by-package",draft:!1,unlisted:!1,editUrl:"https://github.com/wix-incubator/jest-allure2-reporter/tree/master/docs/../../docs/docs/config/01-grouping/03-by-package.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{description:"Developer-oriented way to group test results."},sidebar:"docsSidebar",previous:{title:"By Story",permalink:"/jest-allure2-reporter/docs/config/grouping/by-story"},next:{title:"By Defect Category",permalink:"/jest-allure2-reporter/docs/config/grouping/by-defect"}},u={},d=[];function p(e){const t=Object.assign({h1:"h1",admonition:"admonition",p:"p",code:"code",img:"img",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"by-package",children:"By Package"}),"\n",(0,n.jsx)(t.admonition,{type:"caution",children:(0,n.jsxs)(t.p,{children:["This website version refers to the unreleased version of ",(0,n.jsx)(t.code,{children:"jest-allure2-reporter"})," and is not yet available\nanywhere. Please use GitHub docs for the latest stable version."]})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Grouping by package",src:r(5053).Z+"",width:"2048",height:"1200"})}),"\n",(0,n.jsx)(t.p,{children:"This grouping feature is the least helpful outside of Java world, where packages are used to organize the codebase."}),"\n",(0,n.jsxs)(t.p,{children:["It strictly follows ",(0,n.jsx)(t.code,{children:"com.example.package.ClassName"})," naming convention, where:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"com.example.package"})," is a ",(0,n.jsx)(t.strong,{children:"package"}),","]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"com.example.package.ClassName"})," is a ",(0,n.jsx)(t.strong,{children:"test class"}),","]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"shouldAssertAndDoSomething"})," is a ",(0,n.jsx)(t.strong,{children:"test method"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["It doesn't work well with JavaScript, and, that's why you can use only two grouping levels: ",(0,n.jsx)(t.strong,{children:"package"})," and ",(0,n.jsx)(t.strong,{children:"test method"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"A couple of feasible options are:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["use ",(0,n.jsx)(t.code,{children:"package"})," to group tests by ",(0,n.jsx)(t.code,{children:"package.json"})," name;"]}),"\n",(0,n.jsxs)(t.li,{children:["use ",(0,n.jsx)(t.code,{children:"package"})," to group tests by the file path;"]}),"\n",(0,n.jsxs)(t.li,{children:["use ",(0,n.jsx)(t.code,{children:"testMethod"})," to group tests by the full test name"]}),"\n"]}),"\n",(0,n.jsxs)(a.Z,{groupId:"configTab",children:[(0,n.jsx)(o.Z,{value:"demo",label:"Report",children:(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Grouping by Story: configuration-based",src:r(5329).Z+"",width:"2048",height:"1200"})})}),(0,n.jsx)(o.Z,{value:"structure",label:"Structure",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-plain",children:"\u2514\u2500 @my-company/my-package\n   \u251c\u2500 Forgot password controller should return 401 if password is incorrect\n   \u251c\u2500 Forgot password controller should return 401 if user is not found\n   \u251c\u2500 Forgot password screen when loaded and typed should validate e-mail\n   \u251c\u2500 Forgot password screen when loaded should display forgot password form\n   \u251c\u2500 Login controller should return 401 if password is incorrect\n   \u251c\u2500 Login controller should return 401 if user is not found\n   \u251c\u2500 Login screen when loaded and typed should validate password\n   \u251c\u2500 Login screen when loaded and typed should validate password\n   \u2514\u2500 Login screen when loaded should display login form\n"})})}),(0,n.jsx)(o.Z,{value:"config",label:"Config",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="jest.config.js"',children:"/** @type {import('@jest/types').Config.InitialOptions} */\nmodule.exports = {\n  testEnvironment: 'jest-allure2-reporter/environment-node',\n  reporters: [\n    'default',\n    ['jest-allure2-reporter', /** @type {import('jest-allure2-reporter').Options}*/ {\n      labels: {\n        package: ({ package }) => package.name,\n        // NOTE: `testClass` won't work due to the aforementioned issue\n        testClass: ({ file }) => file.path,\n        testMethod: ({ test }) => test.fullName,\n      },\n    }],\n  ],\n};\n"})})})]})]})}const g=function(e={}){const{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(p,e)})):p(e)}},3142:(e,t,r)=>{r.d(t,{Z:()=>o});r(2784);var n=r(6277);const s={tabItem:"tabItem_OMyP"};var a=r(2322);function o(e){let{children:t,hidden:r,className:o}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,n.Z)(s.tabItem,o),hidden:r,children:t})}},2605:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(2784),s=r(6277),a=r(5425),o=r(7267),l=r(9065),i=r(4236),c=r(3432),u=r(9675);function d(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:r}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:s}}=e;return{value:t,label:r,attributes:n,default:s}}))}(r);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function g(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:r}=e;const s=(0,o.k6)(),a=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,i._X)(a),(0,n.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(s.location.search);t.set(a,e),s.replace({...s.location,search:t.toString()})}),[a,s])]}function f(e){const{defaultValue:t,queryString:r=!1,groupId:s}=e,a=p(e),[o,i]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a}))),[c,d]=h({queryString:r,groupId:s}),[f,b]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,a]=(0,u.Nk)(r);return[s,(0,n.useCallback)((e=>{r&&a.set(e)}),[r,a])]}({groupId:s}),m=(()=>{const e=c??f;return g({value:e,tabValues:a})?e:null})();(0,l.Z)((()=>{m&&i(m)}),[m]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!g({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),b(e)}),[d,b,a]),tabValues:a}}var b=r(717);const m={tabList:"tabList_M0Dn",tabItem:"tabItem_ysIP"};var j=r(2322);function x(e){let{className:t,block:r,selectedValue:n,selectValue:o,tabValues:l}=e;const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.o5)(),u=e=>{const t=e.currentTarget,r=i.indexOf(t),s=l[r].value;s!==n&&(c(t),o(s))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=i.indexOf(e.currentTarget)+1;t=i[r]??i[0];break}case"ArrowLeft":{const r=i.indexOf(e.currentTarget)-1;t=i[r]??i[i.length-1];break}}t?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":r},t),children:l.map((e=>{let{value:t,label:r,attributes:a}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>i.push(e),onKeyDown:d,onClick:u,...a,className:(0,s.Z)("tabs__item",m.tabItem,a?.className,{"tabs__item--active":n===t}),children:r??t},t)}))})}function y(e){let{lazy:t,children:r,selectedValue:s}=e;const a=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===s));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function v(e){const t=f(e);return(0,j.jsxs)("div",{className:(0,s.Z)("tabs-container",m.tabList),children:[(0,j.jsx)(x,{...e,...t}),(0,j.jsx)(y,{...e,...t})]})}function w(e){const t=(0,b.Z)();return(0,j.jsx)(v,{...e,children:d(e.children)},String(t))}},5329:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/config-01-grouping-07-f95ebd1017664d898c799323019d63ca.jpg"},5053:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/config-01-grouping-08-b471f07fc322cc2518b8ad0cf467e976.jpg"},5392:(e,t,r)=>{r.d(t,{Zo:()=>l,ah:()=>a});var n=r(2784);const s=n.createContext({});function a(e){const t=n.useContext(s);return n.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const o={};function l({components:e,children:t,disableParentContext:r}){let l;return l=r?"function"==typeof e?e({}):e||o:a(e),n.createElement(s.Provider,{value:l},t)}}}]);