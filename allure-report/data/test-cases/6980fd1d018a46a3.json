{"uid":"6980fd1d018a46a3","name":"Product sorting works correctly","fullName":"Product Catalog Product Listing Product sorting works correctly","historyId":"c8a9e0351bbe2b84acde523b82e6e778","time":{"start":1719579865790,"stop":1719579871928,"duration":6138},"descriptionHtml":"<pre><code class=\"hljs language-typescript\"><span class=\"hljs-comment\">/** Open Products page */</span>\n<span class=\"hljs-title function_\">beforeEach</span>(<span class=\"hljs-keyword\">async</span> () => {\n  <span class=\"hljs-keyword\">await</span> browser.<span class=\"hljs-title function_\">navigate</span>(<span class=\"hljs-string\">'/products'</span>);\n})\n</code></pre>\n<pre><code class=\"hljs language-typescript\"><span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@story</span> Sort Products\n * <span class=\"hljs-doctag\">@testClass</span> <span class=\"hljs-variable\">ProductListingSorter</span>\n * <span class=\"hljs-doctag\">@testMethod</span> ProductListingSorter.sort()\n */</span>\n<span class=\"hljs-title function_\">test</span>(<span class=\"hljs-string\">'Product sorting works correctly'</span>, <span class=\"hljs-keyword\">async</span> () => {\n  <span class=\"hljs-keyword\">await</span> productListingDriver.<span class=\"hljs-title function_\">openSorting</span>();\n  <span class=\"hljs-keyword\">await</span> productListingDriver.<span class=\"hljs-title function_\">applySorting</span>({ <span class=\"hljs-attr\">by</span>: <span class=\"hljs-string\">'Price low to high'</span> });\n  <span class=\"hljs-keyword\">await</span> productListingDriver.<span class=\"hljs-title function_\">closeSorting</span>();\n  <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">expect</span>(browser).<span class=\"hljs-title function_\">toMatchImageSnapshot</span>();\n})\n</code></pre>","status":"failed","statusMessage":"Error: Expected screenshots to match, but found 7.4% difference","statusTrace":"at Object.<anonymous> (/Users/yaroslavs/Projects/wix-incubator/jest-allure2-reporter/e2e/demo/product-catalog/product-listing.test.ts:55:29)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":" Open Products page","time":{"start":1719579865792,"stop":1719579867012,"duration":1220},"status":"passed","steps":[{"name":"Navigate to: /products","time":{"start":1719579865792,"stop":1719579867012,"duration":1220},"status":"passed","steps":[],"attachments":[{"uid":"61b96f0f1c5b5c4","name":"Screenshot","source":"61b96f0f1c5b5c4.png","type":"image/png","size":460169}],"parameters":[{"name":"url","value":"'/products'"}],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"testStage":{"descriptionHtml":"<pre><code class=\"hljs language-typescript\"><span class=\"hljs-comment\">/** Open Products page */</span>\n<span class=\"hljs-title function_\">beforeEach</span>(<span class=\"hljs-keyword\">async</span> () => {\n  <span class=\"hljs-keyword\">await</span> browser.<span class=\"hljs-title function_\">navigate</span>(<span class=\"hljs-string\">'/products'</span>);\n})\n</code></pre>\n<pre><code class=\"hljs language-typescript\"><span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@story</span> Sort Products\n * <span class=\"hljs-doctag\">@testClass</span> <span class=\"hljs-variable\">ProductListingSorter</span>\n * <span class=\"hljs-doctag\">@testMethod</span> ProductListingSorter.sort()\n */</span>\n<span class=\"hljs-title function_\">test</span>(<span class=\"hljs-string\">'Product sorting works correctly'</span>, <span class=\"hljs-keyword\">async</span> () => {\n  <span class=\"hljs-keyword\">await</span> productListingDriver.<span class=\"hljs-title function_\">openSorting</span>();\n  <span class=\"hljs-keyword\">await</span> productListingDriver.<span class=\"hljs-title function_\">applySorting</span>({ <span class=\"hljs-attr\">by</span>: <span class=\"hljs-string\">'Price low to high'</span> });\n  <span class=\"hljs-keyword\">await</span> productListingDriver.<span class=\"hljs-title function_\">closeSorting</span>();\n  <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">expect</span>(browser).<span class=\"hljs-title function_\">toMatchImageSnapshot</span>();\n})\n</code></pre>","status":"failed","statusMessage":"Error: Expected screenshots to match, but found 7.4% difference","statusTrace":"at Object.<anonymous> (/Users/yaroslavs/Projects/wix-incubator/jest-allure2-reporter/e2e/demo/product-catalog/product-listing.test.ts:55:29)","steps":[{"name":"Open Sorting","time":{"start":1719579867013,"stop":1719579868830,"duration":1817},"status":"passed","steps":[],"attachments":[{"uid":"413478548edd0f60","name":"Screenshot","source":"413478548edd0f60.png","type":"image/png","size":179778}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Apply Sorting by:Price low to high","time":{"start":1719579868831,"stop":1719579870337,"duration":1506},"status":"passed","steps":[],"attachments":[{"uid":"c887212a434a673c","name":"Screenshot","source":"c887212a434a673c.png","type":"image/png","size":191246}],"parameters":[{"name":"criteria","value":"{ by: 'Price low to high' }"}],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"Close Sorting","time":{"start":1719579870338,"stop":1719579871918,"duration":1580},"status":"passed","steps":[],"attachments":[{"uid":"437b3ba40940e95c","name":"Screenshot","source":"437b3ba40940e95c.png","type":"image/png","size":453346}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[{"uid":"b4ff20aef36473e","name":"Screenshot diff","source":"b4ff20aef36473e.txt","type":"application/vnd.allure.image.diff","size":744507}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":4,"attachmentStep":false,"stepsCount":3,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"product-catalog/product-listing.test.ts"},{"name":"epic","value":"Product Discovery"},{"name":"feature","value":"Browse Products"},{"name":"story","value":"Sort Products"},{"name":"suite","value":"Product Catalog"},{"name":"subSuite","value":"Product Listing"},{"name":"package","value":"com.example.shop.catalog"},{"name":"severity","value":"blocker"},{"name":"thread","value":"01"},{"name":"testClass","value":"ProductListingSorter"},{"name":"testMethod","value":"ProductListingSorter.sort()"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"/products","url":"https://publicissapient.github.io/accessible-ecommerce-demo/products"}],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[{"name":"Product defects","matchedStatuses":["failed"],"flaky":false},{"name":"Visual regressions","messageRegex":".*\\bscreenshot.*","matchedStatuses":["failed"],"flaky":false}],"tags":[]},"source":"6980fd1d018a46a3.json","parameterValues":[]}